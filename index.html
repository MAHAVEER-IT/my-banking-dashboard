<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Banking Analytics Dashboard</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f5f6fa;
        margin: 0;
        padding: 0;
    }
    .container {
        max-width: 500px;
        margin: 50px auto;
        padding: 20px;
        background: #ffffff;
        border-radius: 10px;
        box-shadow: 0px 0px 10px #ccc;
    }
    h2 {
        text-align: center;
        color: #2f3640;
    }
    label {
        display: block;
        margin-top: 15px;
        font-weight: bold;
    }
    input, select, button {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    button {
        background-color: #0097e6;
        color: white;
        border: none;
        cursor: pointer;
        margin-top: 20px;
    }
    button:hover {
        background-color: #40739e;
    }
    .hidden {
        display: none;
    }
    .saved-data {
        margin-top: 20px;
        background: #f1f2f6;
        padding: 15px;
        border-radius: 5px;
    }
</style>
</head>
<body>
<div class="container">

    <!-- Login Form -->
    <div id="loginDiv">
        <h2>Login</h2>
        <form id="loginForm">
            <label for="accountId">Account ID</label>
            <input type="text" id="accountId" name="accountId" required>
            <button type="submit">Login</button>
        </form>
    </div>

    <!-- Analytics Form -->
    <div id="analyticsDiv" class="hidden">
        <h2>Banking Analytics Input</h2>
        <form id="analyticsForm">
            <label for="transactionType">Transaction Type</label>
            <select id="transactionType" name="transactionType" required>
                <option value="">--Select--</option>
                <option value="deposit">Deposit</option>
                <option value="withdrawal">Withdrawal</option>
                <option value="transfer">Transfer</option>
            </select>

            <label for="startDate">Start Date</label>
            <input type="date" id="startDate" name="startDate" required>

            <label for="endDate">End Date</label>
            <input type="date" id="endDate" name="endDate" required>

            <button type="submit">Add Details</button>
        </form>

        <div id="result" class="saved-data"></div>
        <button id="logoutBtn" style="background-color:#e84118;">Logout</button>
    </div>
</div>

<script>
const loginDiv = document.getElementById('loginDiv');
const analyticsDiv = document.getElementById('analyticsDiv');
const loginForm = document.getElementById('loginForm');
const analyticsForm = document.getElementById('analyticsForm');
const resultDiv = document.getElementById('result');
const logoutBtn = document.getElementById('logoutBtn');

// Check if user is already logged in
window.onload = function() {
    const accountId = localStorage.getItem('loggedInAccount');
    if(accountId) {
        showAnalyticsForm(accountId);
    }
}

// Login
loginForm.addEventListener('submit', function(e){
    e.preventDefault();
    const accountId = document.getElementById('accountId').value;
    localStorage.setItem('loggedInAccount', accountId);

    // Initialize user data if not exists
    if(!localStorage.getItem(analytics_${accountId})) {
        localStorage.setItem(analytics_${accountId}, JSON.stringify([]));
    }

    showAnalyticsForm(accountId);
});

// Show analytics form
function showAnalyticsForm(accountId) {
    loginDiv.classList.add('hidden');
    analyticsDiv.classList.remove('hidden');
    displayAnalytics(accountId);
}

// Add analytics data
analyticsForm.addEventListener('submit', function(e){
    e.preventDefault();
    const accountId = localStorage.getItem('loggedInAccount');

    const data = {
        transactionType: document.getElementById('transactionType').value,
        startDate: document.getElementById('startDate').value,
        endDate: document.getElementById('endDate').value
    };

    let userAnalytics = JSON.parse(localStorage.getItem(analytics_${accountId}));
    userAnalytics.push(data);
    localStorage.setItem(analytics_${accountId}, JSON.stringify(userAnalytics));

    displayAnalytics(accountId);
    analyticsForm.reset();
});

// Display analytics
function displayAnalytics(accountId){
    let userAnalytics = JSON.parse(localStorage.getItem(analytics_${accountId}));
    if(userAnalytics.length === 0){
        resultDiv.innerHTML = '<p>No data added yet.</p>';
        return;
    }
    let html = <h3>Saved Analytics for Account ID: ${accountId}</h3><ul>;
    userAnalytics.forEach((item, index)=>{
        html += <li><strong>Transaction:</strong> ${item.transactionType}, <strong>Start:</strong> ${item.startDate}, <strong>End:</strong> ${item.endDate}</li>;
    });
    html += '</ul>';
    resultDiv.innerHTML = html;
}

// Logout
logoutBtn.addEventListener('click', function(){
    localStorage.removeItem('loggedInAccount');
    loginDiv.classList.remove('hidden');
    analyticsDiv.classList.add('hidden');
});
</script>
</body>
</html>
